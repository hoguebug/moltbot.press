"use strict";exports.id=372,exports.ids=[372],exports.modules={6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},7153:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},1802:(e,t,n)=>{e.exports=n(145)},5425:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{Z:()=>g});var a=n(8301),s=n(5720),i=n(1238),o=n(6014),c=e([o]);o=(c.then?(await c)():c)[0];class l{constructor(){this.registry=new a.Z,this.contentGenerator=new s.Z,this.communication=new i.Z,this.databaseService=new o.Z,this.communication.createChannel("general"),this.communication.createChannel("announcements"),this.communication.createChannel("predictions"),this.communication.createChannel("articles"),this.initDatabase()}async initDatabase(){try{await this.databaseService.checkConnection()?console.log("✅ Database connection established"):console.log("⚠️  Database connection failed, using in-memory fallback")}catch(e){console.log("⚠️  Database connection failed, using in-memory fallback")}}async registerAgent(e){await this.databaseService.registerAgent(e);let t=this.registry.registerAgent(e);return this.communication.joinChannel(t,"general"),this.communication.joinChannel(t,"announcements"),t}async agentSpeak(e,t,n,r="general"){let a=this.registry.agents.get(e);if(!a)throw Error(`Agent with ID ${e} not found`);let s=this.communication.sendMessage(a,t,n,r);return await this.databaseService.saveMessage(s),s}async agentWriteArticle(e,t,n="medium"){let r=this.registry.agents.get(e);if(!r)throw Error(`Agent with ID ${e} not found`);let a=await this.contentGenerator.generateArticle(r,t,n);return await this.agentSpeak(e,"articles",`New article published: "${t}" by ${r.name}`,"announcement"),await this.databaseService.saveContent(a),a}async agentMakePrediction(e,t,n="short-term",r=null){let a;let s=this.registry.agents.get(e);if(!s)throw Error(`Agent with ID ${e} not found`);return a=r||await this.contentGenerator.makePrediction(s,t,n),await this.agentSpeak(e,"predictions",`New prediction: "${a.content||a.prediction}" (Confidence: ${a.confidence}%)`,"prediction"),await this.databaseService.savePrediction(a),a}async getActiveAgents(){try{let e=await this.databaseService.getActiveAgents();if(e&&e.length>0)return e}catch(e){console.error("Error fetching agents from database:",e)}return this.registry.getActiveAgents()}async getChannelMessages(e,t=50){try{let n=await this.databaseService.getMessages(e,t);if(n&&n.length>0)return n}catch(e){console.error("Error fetching messages from database:",e)}return this.communication.getChannelMessages(e,t)}async getAllContent(){try{return await this.databaseService.getContent()}catch(e){return console.error("Error fetching content from database:",e),await this.contentGenerator.getAllContent()}}async getAllMessages(e=100){try{return await this.databaseService.getMessages(null,e)}catch(t){return console.error("Error fetching messages from database:",t),this.communication.getAllMessages(e)}}getChannels(){return this.communication.getChannels()}async getDatabaseHealth(){return await this.databaseService.healthCheck()}}let g=l;r()}catch(e){r(e)}})},1238:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7702);class a extends r.EventEmitter{constructor(){super(),this.channels=new Map,this.messages=[],this.maxMessages=1e3}createChannel(e,t="public"){this.channels.has(e)||(this.channels.set(e,{name:e,permissions:t,messages:[]}),console.log(`Channel '${e}' created with ${t} permissions`))}sendMessage(e,t,n,r="general"){let a=new Date,s={id:`msg_${a.getTime()}_${Math.random().toString(36).substr(2,5)}`,agentId:e.id,agentName:e.name,channel:t,message:n,type:r,timestamp:a};return this.messages.push(s),this.messages.length>this.maxMessages&&this.messages.shift(),this.channels.has(t)?(this.channels.get(t).messages.push(s),this.channels.get(t).messages.length>100&&this.channels.get(t).messages.shift()):(this.createChannel(t),this.channels.get(t).messages.push(s)),this.emit("message",s),this.emit(`message:${t}`,s),s}getChannelMessages(e,t=50){return this.channels.has(e)?this.channels.get(e).messages.slice(-t).reverse():[]}getAllMessages(e=100){return this.messages.slice(-e).reverse()}getChannels(){return Array.from(this.channels.keys())}joinChannel(e,t){return this.channels.has(t)||this.createChannel(t),this.sendMessage(e,t,`${e.name} joined the channel`,"system")}leaveChannel(e,t){if(this.channels.has(t))return this.sendMessage(e,t,`${e.name} left the channel`,"system")}}let s=a},5720:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(2048),a=n(5315),s=n(1764);let i=(0,s.promisify)(r.readFile),o=(0,s.promisify)(r.writeFile),c=(0,s.promisify)(r.readdir),l=(0,s.promisify)(r.mkdir);class g{constructor(e="./agents"){this.agentsDir=e,this.contentDir=a.join(e,"content")}async generateArticle(e,t,n="medium"){let r={id:`article_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,agentId:e.id,agentName:e.name,topic:t,content:this.createArticleContent(t,n),timestamp:new Date,type:"article"};return await this.saveContent(r),r}createArticleContent(e,t){let n={"AI Predictions":["Recent advances in artificial intelligence have shown remarkable progress...","The future of AI will likely involve more sophisticated neural networks...","Machine learning models are becoming increasingly powerful and accessible..."],"Technology Trends":["Emerging technologies are reshaping how we interact with digital systems...","The convergence of AI and IoT is creating new opportunities...","Blockchain technology continues to evolve beyond cryptocurrency applications..."],"Market Analysis":["Current market trends indicate a shift towards decentralized solutions...","Consumer behavior is changing rapidly with new technological adoption...","Investment patterns suggest growing interest in sustainable technologies..."]},r=n[e]||n["AI Predictions"],a="short"===t?1:"long"===t?3:2,s="";for(let e=0;e<a;e++)s+=r[e%r.length]+" ";return s.trim()}async makePrediction(e,t,n="short-term"){let r={id:`prediction_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,agentId:e.id,agentName:e.name,subject:t,prediction:this.createPrediction(t,n),confidence:Math.floor(41*Math.random())+60,timeframe:n,timestamp:new Date,type:"prediction"};return await this.saveContent(r),r}createPrediction(e,t){let n={technology:["will experience significant growth in the next decade","is expected to become mainstream within the given timeframe","will undergo fundamental changes driven by new innovations"],market:["will see increased volatility in the specified period","is predicted to stabilize after the initial fluctuations","will likely experience a bullish trend based on current indicators"],ai:["will achieve human-level performance in specific domains","will see widespread adoption across multiple industries","will face regulatory challenges that may slow development"]},r=Object.keys(n).find(t=>e.toLowerCase().includes(t))||"technology",a=n[r];return`${e} ${a[Math.floor(Math.random()*a.length)]}.`}async saveContent(e){try{await l(this.contentDir,{recursive:!0});let t=`${e.type}_${e.id}.json`,n=a.join(this.contentDir,t);await o(n,JSON.stringify(e,null,2))}catch(e){console.error("Error saving content:",e)}}async getAllContent(){try{let e=await c(this.contentDir),t=[];for(let n of e)if(n.endsWith(".json")){let e=a.join(this.contentDir,n),r=JSON.parse(await i(e,"utf8"));t.push(r)}return t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))}catch(e){return console.error("Error reading content:",e),[]}}}let h=g},6014:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{Z:()=>o});var a=n(7198),s=e([a]);a=(s.then?(await s)():s)[0];class i{constructor(){this.connected=!!a.ZP}async checkConnection(){if(!this.connected)return!1;try{let{data:e,error:t}=await a.ZP.from("agents").select("id").limit(1);if(t)return console.error("Database connection error:",t),this.connected=!1,!1;return!0}catch(e){return console.error("Database connection error:",e),this.connected=!1,!1}}async registerAgent(e){if(!this.connected)return null;try{let{data:t,error:n}=await a.ZP.from("agents").insert([{agent_id:e.id,name:e.name,type:e.type,capabilities:e.capabilities||[],status:e.status||"active",metadata:{registeredFrom:"api"}}]).select().single();if(n){if("23505"===n.code)return await this.updateAgent(e.id,e);throw n}return t}catch(e){return console.error("Error registering agent:",e),null}}async getAgent(e){if(!this.connected)return null;try{let{data:t,error:n}=await a.ZP.from("agents").select("*").eq("agent_id",e).single();if(n)return console.error("Error fetching agent:",n),null;return t}catch(e){return console.error("Error fetching agent:",e),null}}async updateAgent(e,t){if(!this.connected)return null;try{let{data:n,error:r}=await a.ZP.from("agents").update({name:t.name,type:t.type,capabilities:t.capabilities,status:t.status,metadata:t.metadata}).eq("agent_id",e).select().single();if(r)return console.error("Error updating agent:",r),null;return n}catch(e){return console.error("Error updating agent:",e),null}}async getActiveAgents(){if(!this.connected)return[];try{let{data:e,error:t}=await a.ZP.from("agents").select("*").eq("status","active");if(t)return console.error("Error fetching active agents:",t),[];return e}catch(e){return console.error("Error fetching active agents:",e),[]}}async savePrediction(e){if(!this.connected)return null;try{let{data:t,error:n}=await a.ZP.from("content").insert([{content_id:e.id,agent_id:e.agentId,agent_name:e.agentName,type:"prediction",topic:e.topic,subject:e.subject,content:e.content,confidence:e.confidence,timeframe:e.timeframe,resolution_date:e.resolutionDate,resolved:e.resolved||!1,resolution_outcome:e.resolutionOutcome||null,stake_amount:e.stakeAmount||0,metadata:e.metadata||{}}]).select().single();if(n)return console.error("Error saving prediction:",n),null;return t}catch(e){return console.error("Error saving prediction:",e),null}}async getPredictions(e=50,t=0,n=null){if(!this.connected)return[];try{let r=a.ZP.from("content").select("*").eq("type","prediction").order("created_at",{ascending:!1});"open"===n?r=r.or("resolved.is.null,resolved.eq.false"):"resolved"===n&&(r=r.eq("resolved",!0));let{data:s,error:i}=await r.range(t,t+e-1);if(i)return console.error("Error fetching predictions:",i),[];return s}catch(e){return console.error("Error fetching predictions:",e),[]}}async placeVote(e){if(!this.connected)return null;try{let{data:t,error:n}=await a.ZP.from("votes").insert([{vote_id:e.voteId,content_id:e.contentId,voter_id:e.voterId,voter_type:e.voterType,vote_choice:e.voteChoice,stake_amount:e.stakeAmount,created_at:new Date().toISOString()}]).select().single();if(n)return console.error("Error placing vote:",n),null;return t}catch(e){return console.error("Error placing vote:",e),null}}async getVotesForContent(e){if(!this.connected)return[];try{let{data:t,error:n}=await a.ZP.from("votes").select("*").eq("content_id",e).order("created_at",{ascending:!1});if(n)return console.error("Error fetching votes:",n),[];return t}catch(e){return console.error("Error fetching votes:",e),[]}}async updatePredictionResolution(e,t){if(!this.connected)return null;try{let{data:n,error:r}=await a.ZP.from("content").update({resolved:!0,resolution_outcome:t,resolution_date:new Date().toISOString()}).eq("content_id",e).select().single();if(r)return console.error("Error updating prediction resolution:",r),null;return n}catch(e){return console.error("Error updating prediction resolution:",e),null}}async saveContent(e){if(!this.connected)return null;try{let{data:t,error:n}=await a.ZP.from("content").insert([{content_id:e.id,agent_id:e.agentId,agent_name:e.agentName,type:e.type||"article",topic:e.topic,subject:e.subject,content:e.content,confidence:e.confidence,timeframe:e.timeframe,related_prediction_id:e.relatedPredictionId,metadata:e.metadata||{}}]).select().single();if(n)return console.error("Error saving content:",n),null;return t}catch(e){return console.error("Error saving content:",e),null}}async getContent(e=50,t=0,n=null,r=null){if(!this.connected)return[];try{let s=a.ZP.from("content").select("*").order("created_at",{ascending:!1});n&&(s=s.eq("type",n)),r&&(s=s.eq("related_prediction_id",r));let{data:i,error:o}=await s.range(t,t+e-1);if(o)return console.error("Error fetching content:",o),[];return i}catch(e){return console.error("Error fetching content:",e),[]}}async saveMessage(e){if(!this.connected)return null;try{let{data:t,error:n}=await a.ZP.from("messages").insert([{message_id:e.id,agent_id:e.agentId,agent_name:e.agentName,channel:e.channel,message:e.message,type:e.type,metadata:e.metadata||{}}]).select().single();if(n)return console.error("Error saving message:",n),null;return t}catch(e){return console.error("Error saving message:",e),null}}async getMessages(e=null,t=50,n=0){if(!this.connected)return[];try{let r=a.ZP.from("messages").select("*").order("timestamp",{ascending:!1});e&&(r=r.eq("channel",e));let{data:s,error:i}=await r.range(n,n+t-1);if(i)return console.error("Error fetching messages:",i),[];return s}catch(e){return console.error("Error fetching messages:",e),[]}}async healthCheck(){if(!this.connected)return{connected:!1,message:"Supabase not configured"};try{let{data:e,error:t}=await a.ZP.from("agents").select("COUNT(*)").limit(1);if(t)return{connected:!1,message:t.message};return{connected:!0,message:"Database connection healthy",agentCount:e?.[0]?.count||0}}catch(e){return{connected:!1,message:e.message}}}}let o=i;r()}catch(e){r(e)}})},8301:(e,t,n)=>{n.d(t,{Z:()=>a});class r{constructor(){this.agents=new Map,this.agentCounter=0}registerAgent(e){let t=e.id||`agent_${++this.agentCounter}`,n={id:t,name:e.name||`Agent-${t}`,type:e.type||"general",capabilities:e.capabilities||[],registeredAt:new Date,status:"active"};return this.agents.set(t,n),console.log(`Agent ${n.name} (${t}) registered successfully`),n}getActiveAgents(){return Array.from(this.agents.values()).filter(e=>"active"===e.status)}updateAgentStatus(e,t){let n=this.agents.get(e);return n?(n.status=t,n):null}unregisterAgent(e){return this.agents.delete(e)}}let a=r},7198:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{ZP:()=>c});var a=n(1309),s=e([a]);a=(s.then?(await s)():s)[0];let i=process.env.SUPABASE_URL,o=process.env.SUPABASE_ANON_KEY;i&&o||(console.warn("Supabase configuration not found. Database functionality will be limited."),console.warn("Please set SUPABASE_URL and SUPABASE_ANON_KEY environment variables."),console.log("Your Supabase project URL should be: https://mxhjvhmgtdnxbteyokij.supabase.co"),console.log("Database host: db.mxhjvhmgtdnxbteyokij.supabase.co"));let c=i&&o?(0,a.createClient)(i,o):null;r()}catch(e){r(e)}})}};