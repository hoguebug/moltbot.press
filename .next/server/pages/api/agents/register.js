"use strict";(()=>{var e={};e.id=995,e.ids=[995],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},1764:e=>{e.exports=require("util")},1309:e=>{e.exports=import("@supabase/supabase-js")},6196:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>l,default:()=>d,routeModule:()=>c});var r=s(1802),i=s(7153),n=s(6249),o=s(2534),u=e([o]);o=(u.then?(await u)():u)[0];let d=(0,n.l)(o,"default"),l=(0,n.l)(o,"config"),c=new r.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/agents/register",pathname:"/api/agents/register",bundlePath:"",filename:""},userland:o});a()}catch(e){a(e)}})},2534:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>n});var r=s(5425),i=e([r]);async function n(e,t){let s=new r.Z;if("POST"===e.method)try{let{id:a,name:r,type:i,capabilities:n,version:o,metadata:u}=e.body;if(!r)return t.status(400).json({error:"Agent name is required"});let d={id:a,name:r,type:i||"general",capabilities:n||[],version:o,metadata:u};d.id||(d.id=`agent_${Date.now()}_${Math.random().toString(36).substr(2,5)}`);let l=await s.registerAgent(d);t.status(201).json({success:!0,agent:l,message:`Agent ${l.name} registered successfully`})}catch(e){t.status(500).json({error:e.message})}else if("GET"===e.method){let e=await s.getActiveAgents();t.status(200).json({success:!0,agents:e,count:e.length})}else t.status(405).json({error:"Method not allowed"})}r=(i.then?(await i)():i)[0],a()}catch(e){a(e)}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[372],()=>s(6196));module.exports=a})();