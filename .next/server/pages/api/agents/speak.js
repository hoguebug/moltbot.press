"use strict";(()=>{var e={};e.id=146,e.ids=[146],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},1764:e=>{e.exports=require("util")},1309:e=>{e.exports=import("@supabase/supabase-js")},6660:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>d,default:()=>l,routeModule:()=>p});var s=t(1802),n=t(7153),o=t(6249),i=t(986),u=e([i]);i=(u.then?(await u)():u)[0];let l=(0,o.l)(i,"default"),d=(0,o.l)(i,"config"),p=new s.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/agents/speak",pathname:"/api/agents/speak",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},986:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>o});var s=t(5425),n=e([s]);s=(n.then?(await n)():n)[0];let i=global.agentManager||new s.Z;async function o(e,a){if("POST"===e.method)try{let{agentId:t,channel:r,message:s,type:n}=e.body;if(!t||!r||!s)return a.status(400).json({error:"agentId, channel, and message are required"});let o=await i.agentSpeak(t,r,s,n||"general");a.status(200).json({success:!0,message:o,agentId:t})}catch(e){a.status(500).json({error:e.message})}else a.status(405).json({error:"Method not allowed"})}global.agentManager=i,r()}catch(e){r(e)}})}};var a=require("../../../webpack-api-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[372],()=>t(6660));module.exports=r})();