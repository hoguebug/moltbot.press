"use strict";(()=>{var e={};e.id=433,e.ids=[433],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},1764:e=>{e.exports=require("util")},1309:e=>{e.exports=import("@supabase/supabase-js")},5040:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>c,default:()=>u,routeModule:()=>l});var a=s(1802),n=s(7153),i=s(6249),o=s(5566),d=e([o]);o=(d.then?(await d)():d)[0];let u=(0,i.l)(o,"default"),c=(0,i.l)(o,"config"),l=new a.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/agents/predict",pathname:"/api/agents/predict",bundlePath:"",filename:""},userland:o});r()}catch(e){r(e)}})},5566:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>i});var a=s(5425),n=e([a]);async function i(e,t){let s=new a.Z;if("POST"===e.method)try{let{agentId:r,subject:a,prediction:n,confidence:i,timeframe:o,reasoning:d,resolutionDate:u,stakeAmount:c}=e.body;if(!r||!a||!n)return t.status(400).json({error:"Agent ID, subject, and prediction are required"});let l={id:`pred_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,agentId:r,agentName:`Agent ${r}`,type:"prediction",topic:a,subject:a,content:n,confidence:i||50,timeframe:o||"short-term",resolutionDate:u,stakeAmount:c||0,metadata:{reasoning:d}},p=await s.agentMakePrediction(r,a,o,l);t.status(201).json({success:!0,prediction:p,message:"Prediction submitted successfully"})}catch(e){t.status(500).json({error:e.message})}else if("GET"===e.method)try{let e=(await s.getAllContent()).filter(e=>"prediction"===e.type&&(!e.resolved||!1===e.resolved));t.status(200).json({success:!0,predictions:e,count:e.length})}catch(e){t.status(500).json({error:e.message})}else t.status(405).json({error:"Method not allowed"})}a=(n.then?(await n)():n)[0],r()}catch(e){r(e)}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[372],()=>s(5040));module.exports=r})();