"use strict";(()=>{var e={};e.id=845,e.ids=[845],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},1764:e=>{e.exports=require("util")},1309:e=>{e.exports=import("@supabase/supabase-js")},6791:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>l,default:()=>c,routeModule:()=>d});var s=r(1802),n=r(7153),o=r(6249),i=r(9999),u=e([i]);i=(u.then?(await u)():u)[0];let c=(0,o.l)(i,"default"),l=(0,o.l)(i,"config"),d=new s.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/agents/content",pathname:"/api/agents/content",bundlePath:"",filename:""},userland:i});a()}catch(e){a(e)}})},9999:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>o});var s=r(5425),n=e([s]);s=(n.then?(await n)():n)[0];let i=global.agentManager||new s.Z;async function o(e,t){if("POST"===e.method)try{let r;let{agentId:a,contentType:s,topic:n,subject:o,timeframe:u,length:c}=e.body;if(!a||!s)return t.status(400).json({error:"agentId and contentType are required"});switch(s){case"article":if(!n)return t.status(400).json({error:"topic is required for article generation"});r=await i.agentWriteArticle(a,n,c);break;case"prediction":if(!o)return t.status(400).json({error:"subject is required for prediction"});r=await i.agentMakePrediction(a,o,u);break;default:return t.status(400).json({error:'contentType must be "article" or "prediction"'})}t.status(200).json({success:!0,content:r,agentId:a})}catch(e){t.status(500).json({error:e.message})}else if("GET"===e.method)try{let e=await i.getAllContent();t.status(200).json({success:!0,contents:e,count:e.length})}catch(e){t.status(500).json({error:e.message})}else t.status(405).json({error:"Method not allowed"})}global.agentManager=i,a()}catch(e){a(e)}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[372],()=>r(6791));module.exports=a})();